!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){r(this,t)}return a(t,null,[{key:"toPixel",value:function(t){return parseInt(t)}},{key:"keyCodeToChar",value:function(t){return String.fromCharCode(t)}},{key:"getCaretPosition",value:function(t){if(void 0!==t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange(),r=n.duplicate();return n.moveToBookmark(e.getBookmark()),r.setEndPoint("EndToStart",n),r.text.length}return 0}},{key:"getInputSelectionText",value:function(t){if(void 0!==t.selectionStart)return t.selectionStart<t.selectionEnd?$(t).val().substring(t.selectionStart,t.selectionEnd):"";t.focus();var e=document.selection.createRange();return null==e?"":e.text}},{key:"setCaretPosition",value:function(t,e){void 0!==t.selectionStart&&(t.selectionStart=e,t.selectionEnd=e)}},{key:"trim",value:function(t){return"string"!=typeof t?t:t.replace(/(^\s+)|(\s+$)/g,"")}},{key:"rtrim",value:function(t){return"string"!=typeof t?t:t.replace(/\s+$/,"")}},{key:"ltrim",value:function(t){return"string"!=typeof t?t:t.replace(/^\s+/,"")}},{key:"getClipboardText",value:function(t){var e;return void 0===(e=t.clipboardData||window.clipboardData)?null:e.getData("Text")}},{key:"Test",value:function(){}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){r(this,t),this.format=e}return a(t,null,[{key:"MASK_YEAR",get:function(){return"y"}},{key:"MASK_MONTH",get:function(){return"M"}},{key:"MASK_DAY",get:function(){return"d"}},{key:"MASK_L_ALPHA",get:function(){return"a"}},{key:"MASK_U_ALPHA",get:function(){return"A"}},{key:"MASK_NUM",get:function(){return"#"}},{key:"INPUT_MASK_CHARS",get:function(){return t.MASK_YEAR+t.MASK_MONTH+t.MASK_DAY+t.MASK_L_ALPHA+t.MASK_U_ALPHA+t.MASK_NUM}}]),a(t,[{key:"isValid",value:function(){return 0!=this.length}},{key:"getMaskChar",value:function(t){return!this.isValid()||t<0||this.length<=t?"":this.format.substr(t,1)}},{key:"isInput",value:function(e){var n=this.getMaskChar(e);return""!=n&&t.INPUT_MASK_CHARS.indexOf(n)>=0}},{key:"isFixChar",value:function(e){var n=this.getMaskChar(e);return""!=n&&t.INPUT_MASK_CHARS.indexOf(n)<0}},{key:"testInput",value:function(e,n){if(!this.isInput(e))return!1;var r,a=this.getMaskChar(e);return a==t.MASK_YEAR||a==t.MASK_MONTH||a==t.MASK_DAY||a==t.MASK_NUM?r=/[0-9]/gi.test(n):a==t.MASK_L_ALPHA?r=/[a-z]/g.test(n):a==t.MASK_U_ALPHA&&(r=/[A-Z]/g.test(n)),r}},{key:"getNextInputPosition",value:function(t){return this._findInputPosition(t,1)}},{key:"getPrevInputPosition",value:function(t){return this._findInputPosition(t,-1)}},{key:"_findInputPosition",value:function(t,e){for(var n=t+e,r=-1;n>=0&&n<this.length;){if(this.isInput(n)){r=n;break}n+=e}return r}},{key:"getDisplayMask",value:function(){if(!this.isValid())return"";for(var t="",e=0;e<this.length;e++)t+=this.getDisplayMaskChar(e);return t}},{key:"getDisplayMaskChar",value:function(e){if(!this.isValid())return"";var n=this.getMaskChar(e);if(""==n)return"";var r="";return n==t.MASK_NUM?r="_":n==t.MASK_L_ALPHA?r="a":n==t.MASK_U_ALPHA?r="A":n==t.MASK_YEAR||n==t.MASK_DAY?r+=n.toUpperCase():r+=n,r}},{key:"length",get:function(){return this.format?this.format.length:0}}],[{key:"Test",value:function(){}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n,r){var a=h.default.getCaretPosition(t),i=1;for(void 0!==r&&"number"==typeof r&&(i=r);n!=A.None;)if(a+=n,e.isInput(a)){if(--i<=0)break}else{if(a<=0)break;if(a>=$(t).val().length)break}return a}function i(t,e,n,r){var i=a(t,e,n,r);return h.default.setCaretPosition(t,i),i}function u(t,e,n,r){console.log("start overrideSpace:target="+t+",start="+e+",length="+n+",config="+r);for(var a="",i=0;i<n;i++)a+=" ";var u=o(t,e,a,r);return console.log("end overrideSpace:result="+u),u}function o(t,e,n,r){if("string"!=typeof t)return t;if("string"!=typeof n)return t;if(0==n.length)return t;var a=n.length,i=t;if(i.length<e+a)for(var u=0;u<e+a-i.length;u++)i+=" ";for(var o=i.substring(0,e),s=0;s<a;s++)r.isFixChar(e+s)?o+=r.getMaskChar(e+s):o+=n.substr(s,1);return o+=t.substring(e+a)}function s(t,e,n){if("string"!=typeof e)return e;for(var r="",a=0;a<e.length;a++){var i=t+a;n.isInput(i)?n.getMaskChar(i)==v.default.MASK_L_ALPHA?r+=e.substr(a,1).toLowerCase():n.getMaskChar(i)==v.default.MASK_U_ALPHA?r+=e.substr(a,1).toUpperCase():r+=e.substr(a,1):n.isFixChar(i)&&(r+=n.getMaskChar(i))}return r}function f(t,e){if(e.isFixChar(t+1)){for(var n=t+1,r="";;){if(!e.isFixChar(n))break;r+=e.getMaskChar(n),n++}return r}return""}function l(t,e){if("string"!=typeof t)return"";var n=t;t.length>e.length&&(n=t.substr(0,e.length));for(var r=n.length,a=n.length-1;a>=0;a--)if(e.isFixChar(a));else{if(" "!=n.substr(a,1))break;r=a}return console.log("len:"+r),n=n.substr(0,r)}var c,d=n(0),h=r(d),g=n(1),v=r(g),p=n(3),k=r(p);$(function(){0==$("#jq-maskinput-canvas").length&&$("body").append("<canvas id='jq-maskinput-canvas' style='display:none' ></canvas>"),c=$("#jq-maskinput-canvas").get(0)}),jQuery.fn.maskInput=function(){return this.each(function(t,e){var n=new v.default($(e).data("mask-format"));$(e).css({"ime-mode":"disabled","font-family":"Consolas, 'Courier New', Courier, Monaco, monospace"}),$(e).keydown(function(t){var e=this,r=A.None;if(t.keyCode==y.BackSpace){r=A.Back;var o=h.default.getCaretPosition(this),s=h.default.getInputSelectionText(this).length;if(0==o&&0==s)return;var f=0==s?o-1:o,d=Math.max(1,s);if(0==s&&n.isFixChar(f))for(;f>0&&!n.isInput(f);)f--;var g=u($(this).val(),f,d,n);g=l(g,n);var v=a(this,n,A.Back);return $(this).val(g),h.default.setCaretPosition(this,v),setTimeout(function(){return k.default.drawBackground(c,e,n)},0),!1}return t.keyCode==y.Left?r=A.Back:t.keyCode==y.Right&&(r=A.Forward),i(this,n,r),r==A.None}),$(e).keypress(function(t){var e=this,r=h.default.getCaretPosition(this),a=h.default.getInputSelectionText(this).length,l=s(r,h.default.keyCodeToChar(t.charCode),n);if(n.isFixChar(r)&&(r=n.getNextInputPosition(r)),!n.testInput(r,l))return!1;var d=$(this).val();a>0&&(d=u(d,r,a,n));var g=l;return g+=f(r,n),d=o(d,r,g,n),$(this).val(d),h.default.setCaretPosition(this,r),setTimeout(function(){i(e,n,A.Forward)},0),setTimeout(function(){return k.default.drawBackground(c,e,n)},0),!1}),$(e).keyup(function(t){}),$(e).on("paste",function(t){var e=this,r=h.default.getClipboardText(t.originalEvent);if("string"!=typeof r)return!1;var a=h.default.getCaretPosition(this),i=h.default.getInputSelectionText(this).length,f=$(this).val();i>0&&(f=u(f,a,i,n));var d="",g=0,v=0;for(r=s(a,r,n),console.log("pastedData:"+r);g<r.length;){var p=a+v;if(n.isFixChar(p)){var y=n.getMaskChar(p);d+=y,r.substr(g,1)==y&&g++}else{if(!n.isInput(p))break;n.testInput(p,r.substr(g,1))?d+=r.substr(g,1):d+=" ",g++}v++}return f=o(f,a,d,n),f=l(f,n),$(this).val(f),h.default.setCaretPosition(this,a),setTimeout(function(){return k.default.drawBackground(c,e,n)},0),!1}),setTimeout(function(){k.default.drawBackground(c,e,n)},1)})};var y={BackSpace:8,Tab:9,Left:37,Up:38,Right:39,Down:40,Delete:46},A={None:0,Back:-1,Forward:1}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),o=(r(u),n(1)),s=(r(o),function(){function t(){a(this,t)}return i(t,null,[{key:"drawBackground",value:function(t,e,n){var r=$(e),a=$(e).val(),i=t.getContext("2d");i.clearRect(0,0,t.width,t.height);var u=r.css("font-size")+" "+r.css("font-family"),o={x:0,y:0},s=parseInt(r.css("border-top-width"),10),f=parseInt(r.css("border-left-width"),10);o.y=parseInt(r.css("padding-top"),10)+s,o.x=parseInt(r.css("padding-left"),10)+f,i.textBaseline="top",i.font=u,i.fillStyle="#999";for(var l=0;l<n.length;l++){var c="";a.length>l&&" "!=a.substr(l,1)?c=a.substr(l,1):(c=n.getDisplayMaskChar(l),i.fillText(c,o.x,o.y));var d=i.measureText(c);o.x+=d.width}var h=t.toDataURL();r.css("background-image","url("+h+")")}}]),t}());e.default=s}]);